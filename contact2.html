<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
</head>
<body>  <section class="contact-section">
      <div class="row justify-content-center">
        <!-- Formulaire de contact -->
        <div class="col-lg-8 contact-form px-md-3 px-4 order-1">
          <h3 class="font-oswald text-md-start text-center">
            FORMULAIRE DE CONTACT
          </h3>
          <img
            class="mt-1 mb-5 d-block mx-auto mx-md-0"
            src="assets/img/bg_titre.jpg"
            alt=""
          />
          <form>
            <div class="row mb-3">
              <div class="col-md-6 mb-3 mb-md-0">
                <input
                  type="text"
                  class="form-control"
                  id="nom"
                  placeholder="VOTRE NOM"                 
                />
              </div>
              <div class="col-md-6">
                <input
                  type="text"
                  class="form-control"
                  placeholder="VOTRE PRÉNOM"
                  id="prenom"
                />
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-md-6 mb-3 mb-md-0">
                <input
                  type="phone"
                  class="form-control"
                  placeholder="VOTRE TÉLÉPHONE"
                  id="tel"
                />
                <p></p>
              </div>
              <div class="col-md-6">
                <input
                  type="email"
                  class="form-control"
                  placeholder="VOTRE EMAIL"
                  id="email"
                />
              </div>
            </div>
            <div class="mb-3">
              <input type="text" class="form-control" placeholder="SUJET" />
            </div>
            <div class="mb-3">
              <textarea
                class="form-control"
                rows="5"
                placeholder="VOTRE MESSAGE"
              
              ></textarea>

            </div>
            <div class="text-center text-md-start">
              <button type="submit" class="btn btn-primary mb-5">ENVOYER</button>
            </div>
          </form>
        </div>
        <script>
            const inputName = document.getElementById("nom");
            const inputEmail = document.getElementById("email");
            const inputTel = document.getElementById("tel");
            const inputPrenom = document.getElementById("prenom");
            const inputAll = document.querySelectorAll("input")
            const error = document.querySelector('p')

            const inputs = [
                {
                    element : inputName,
                    regex : /^[a-zA-Z\s-]+$/,
                    error : "Nom invalide"
                },
                {
                    element : inputPrenom,
                    regex : /^[a-zA-Z\s-]+$/,
                    error : "Prenom invalide"
                },
                {
                    element : inputEmail,
                    regex : /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$/,
                    error : "Email invalide"
                },
                {
                    element : inputTel,
                    regex : /^[0-9]{10}$/,
                    error : "Téléphone invalide"
                }
            ]

          //  RegexTest(inputs);
            inputs.forEach(errors => {
              
              error.className.textContent = `${errors.error}`
              error.appendChild("p")
            })

           inputs.forEach(input => {
                    input.element.addEventListener("input", function (e) {
                        RegexTest(this, input.regex)
                    });
            });

          
            // RegexTest() // Input Nom
            // RegexTest() // input Prenom
            // RegexTest() // Input Email
            // RegexTest() // Input Tel
              function RegexTest(input,regex) {
                const inputValue = input.value;

                if (regex.test(inputValue)) {
                // Le nom est valide color border vert sur le input nom avec une classe css
                input.classList.remove("is-invalid");
                input.classList.add("is-valid");
              } else if (input.value === '') {
                input.classList.remove("is-invalid");
                input.classList.remove("is-valid");
              }
                else {
                // Le nom est invalide color border rouge sur le input nom avec une classe css
                input.classList.remove("is-valid");
                input.classList.add("is-invalid");
              }
            }


        </script>
</body>
</html>